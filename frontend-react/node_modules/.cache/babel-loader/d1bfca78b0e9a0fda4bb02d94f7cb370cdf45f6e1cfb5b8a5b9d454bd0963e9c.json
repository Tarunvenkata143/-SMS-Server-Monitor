{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tarun\\\\Desktop\\\\sms-server-monitor\\\\frontend-react\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Line, Doughnut } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement);\n\n// --- Helper Functions ---\nconst getStatusColor = (value, high = 80, critical = 95) => {\n  if (value >= critical) return 'text-red-600 font-bold';\n  if (value >= high) return 'text-yellow-600 font-medium';\n  return 'text-green-600';\n};\nconst getMetricColor = metricName => {\n  switch (metricName.toUpperCase()) {\n    case 'CPU':\n      return 'bg-indigo-500';\n    case 'MEMORY':\n      return 'bg-green-500';\n    case 'DISK':\n      return 'bg-orange-500';\n    case 'TEMP':\n      return 'bg-red-500';\n    default:\n      return 'bg-gray-500';\n  }\n};\nconst Dashboard = () => {\n  _s();\n  const [status, setStatus] = useState({});\n  const [logs, setLogs] = useState([]);\n  const [alerts, setAlerts] = useState([]);\n  const [sms, setSms] = useState([]);\n  const [isMobile, setIsMobile] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/');\n      return;\n    }\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    loadData();\n    const interval = setInterval(loadData, 2000); // 5 seconds\n    return () => clearInterval(interval);\n  }, [navigate]);\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n  const loadData = async () => {\n    try {\n      const [statusRes, logsRes, alertsRes, smsRes] = await Promise.all([axios.get('/api/dashboard/status'), axios.get('/api/dashboard/logs'), axios.get('/api/alerts'), axios.get('/api/dashboard/sms')]);\n      setStatus(statusRes.data);\n      const sortedLogs = logsRes.data.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n      setLogs(sortedLogs);\n      setAlerts(alertsRes.data);\n      setSms(smsRes.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // --- Chart Data ---\n  const labels = logs.map(log => new Date(log.timestamp).toLocaleTimeString());\n  const createChartData = (dataKey, color, label) => ({\n    labels,\n    datasets: [{\n      label: label,\n      data: logs.map(log => log[dataKey]),\n      borderColor: color,\n      tension: 0.1\n    }]\n  });\n  const cpuChartData = createChartData('cpuUsage', 'rgb(75, 192, 192)', 'CPU Usage (%)');\n  const memoryChartData = createChartData('memoryUsage', 'rgb(54, 162, 235)', 'Memory Usage (%)');\n  const diskChartData = createChartData('diskSpace', 'rgb(255, 99, 132)', 'Disk Usage (%)');\n  const temperatureChartData = createChartData('temperature', 'rgb(255, 206, 86)', 'Temperature (Â°C)');\n  const miniChartOptions = {\n    maintainAspectRatio: false,\n    responsive: true,\n    plugins: {\n      legend: {\n        display: false\n      },\n      tooltip: {\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: 'white',\n        bodyColor: 'white',\n        cornerRadius: 6\n      }\n    },\n    scales: {\n      x: {\n        display: false\n      },\n      y: {\n        display: false\n      }\n    },\n    elements: {\n      point: {\n        radius: 1,\n        hoverRadius: 3\n      },\n      line: {\n        borderWidth: 1\n      }\n    }\n  };\n  const renderMetricWithGraph = (name, value, unit) => {\n    const colorClass = getMetricColor(name);\n    let maxReference = 100; // Default max for percentage\n    if (name === 'Temp') maxReference = 100;\n    const percent = value / maxReference * 100;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between py-1 border-b border-gray-100 last:border-b-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm font-medium text-gray-700 w-1/4\",\n        children: [name, \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow mx-2 bg-gray-200 rounded-full h-2.5 overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `h-full rounded-full ${colorClass}`,\n          style: {\n            width: `${Math.min(percent, 100)}%`\n          },\n          title: `${value}${unit}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-sm w-1/4 text-right\",\n        children: [value, unit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this);\n  };\n  if (logs.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl text-gray-700 animate-pulse\",\n        children: \"Loading real-time data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }, this);\n  }\n  if (isMobile) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800 mb-4\",\n          children: \"This is a system-based application.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-600\",\n          children: \"Please open with your PC or desktop.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6 border-b pb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-extrabold text-indigo-700\",\n        children: \"Server Monitoring Dashboard \\uD83D\\uDE80\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",\n      children: [{\n        title: 'CPU Usage',\n        value: (status === null || status === void 0 ? void 0 : status.cpuUsage) || 0,\n        unit: '%',\n        data: cpuChartData,\n        color: 'border-blue-500'\n      }, {\n        title: 'Memory Usage',\n        value: (status === null || status === void 0 ? void 0 : status.memoryUsage) || 0,\n        unit: '%',\n        data: memoryChartData,\n        color: 'border-green-500'\n      }, {\n        title: 'Disk Space',\n        value: (status === null || status === void 0 ? void 0 : status.diskSpace) || 0,\n        unit: '%',\n        data: diskChartData,\n        color: 'border-yellow-500'\n      }, {\n        title: 'Temperature',\n        value: (status === null || status === void 0 ? void 0 : status.temperature) || 0,\n        unit: 'Â°C',\n        data: temperatureChartData,\n        color: 'border-red-500'\n      }].map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bg-white p-5 rounded-xl shadow-lg border-l-4 ${item.color} transform hover:scale-[1.02] transition duration-300`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-gray-500 uppercase\",\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-4xl font-extrabold mt-1 text-gray-900\",\n          children: [item.value.toFixed(1), item.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-12 mt-3\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: item.data,\n            options: miniChartOptions,\n            height: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-lg border border-gray-200 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-6 text-gray-800 border-b pb-3\",\n        children: \"Current System Usage Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\",\n        children: [{\n          name: 'CPU',\n          value: (status === null || status === void 0 ? void 0 : status.cpuUsage) || 0,\n          color: '#4BC0C0'\n        }, {\n          name: 'Memory',\n          value: (status === null || status === void 0 ? void 0 : status.memoryUsage) || 0,\n          color: '#36A2EB'\n        }, {\n          name: 'Disk',\n          value: (status === null || status === void 0 ? void 0 : status.diskSpace) || 0,\n          color: '#FF6384'\n        }, {\n          name: 'Temp',\n          value: (status === null || status === void 0 ? void 0 : status.temperature) || 0,\n          color: '#FFCE56'\n        }].map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-3 text-gray-800\",\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative inline-block w-32 h-32\",\n            children: [/*#__PURE__*/_jsxDEV(Doughnut, {\n              data: {\n                labels: ['Used', 'Free'],\n                datasets: [{\n                  data: [item.value, 100 - item.value],\n                  backgroundColor: [item.color, '#F3F4F6'],\n                  borderWidth: 0\n                }]\n              },\n              options: {\n                ...miniChartOptions,\n                cutout: '75%',\n                animation: {\n                  duration: 1500\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-extrabold text-gray-900\",\n                children: [item.value.toFixed(1), item.name !== 'Temp' ? '%' : 'Â°C']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-lg border border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4 text-gray-800\",\n        children: \"Recent Log Data Stream (Last 5)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6\",\n        children: logs.slice(-5).reverse().map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-bold text-indigo-600 mb-3 border-b pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 font-normal\",\n              children: \"T:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), \" \", new Date(log.timestamp).toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1\",\n            children: [renderMetricWithGraph('CPU', log.cpuUsage.toFixed(1), '%'), renderMetricWithGraph('Memory', log.memoryUsage.toFixed(1), '%'), renderMetricWithGraph('Disk', log.diskSpace.toFixed(1), '%'), renderMetricWithGraph('Temp', log.temperature.toFixed(1), 'Â°C')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)]\n        }, log._id || index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-700 mb-3\",\n          children: \"Full Log Table\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full table-auto text-sm border-collapse\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100 sticky top-0\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-b border-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left font-semibold text-gray-600\",\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left font-semibold text-gray-600\",\n                children: \"CPU Usage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left font-semibold text-gray-600\",\n                children: \"Memory Usage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left font-semibold text-gray-600\",\n                children: \"Disk Space\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left font-semibold text-gray-600\",\n                children: \"Temperature\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: logs.slice(-10).reverse().map((log, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-b border-gray-200 hover:bg-gray-50 transition duration-150\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3 whitespace-nowrap text-gray-700\",\n                children: new Date(log.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: `px-4 py-3 text-center ${getStatusColor(log.cpuUsage)}`,\n                children: [log.cpuUsage.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: `px-4 py-3 text-center ${getStatusColor(log.memoryUsage)}`,\n                children: [log.memoryUsage.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: `px-4 py-3 text-center ${getStatusColor(log.diskSpace)}`,\n                children: [log.diskSpace.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: `px-4 py-3 text-center ${getStatusColor(log.temperature)}`,\n                children: [log.temperature.toFixed(1), \"\\xB0C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)]\n            }, log._id || index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"EySkTLYzSXUgCOf+exS808ZT7qQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Line","Doughnut","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ArcElement","jsxDEV","_jsxDEV","register","getStatusColor","value","high","critical","getMetricColor","metricName","toUpperCase","Dashboard","_s","status","setStatus","logs","setLogs","alerts","setAlerts","sms","setSms","isMobile","setIsMobile","navigate","token","localStorage","getItem","defaults","headers","common","loadData","interval","setInterval","clearInterval","checkMobile","window","innerWidth","addEventListener","removeEventListener","statusRes","logsRes","alertsRes","smsRes","Promise","all","get","data","sortedLogs","sort","a","b","Date","timestamp","err","console","error","labels","map","log","toLocaleTimeString","createChartData","dataKey","color","label","datasets","borderColor","tension","cpuChartData","memoryChartData","diskChartData","temperatureChartData","miniChartOptions","maintainAspectRatio","responsive","plugins","legend","display","tooltip","backgroundColor","titleColor","bodyColor","cornerRadius","scales","x","y","elements","point","radius","hoverRadius","line","borderWidth","renderMetricWithGraph","name","unit","colorClass","maxReference","percent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","Math","min","title","length","cpuUsage","memoryUsage","diskSpace","temperature","item","index","toFixed","options","height","cutout","animation","duration","slice","reverse","_id","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/tarun/Desktop/sms-server-monitor/frontend-react/src/components/Dashboard.js"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Line, Doughnut } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement);\r\n\r\n// --- Helper Functions ---\r\nconst getStatusColor = (value, high = 80, critical = 95) => {\r\n  if (value >= critical) return 'text-red-600 font-bold';\r\n  if (value >= high) return 'text-yellow-600 font-medium';\r\n  return 'text-green-600';\r\n};\r\n\r\nconst getMetricColor = (metricName) => {\r\n  switch (metricName.toUpperCase()) {\r\n    case 'CPU': return 'bg-indigo-500'; \r\n    case 'MEMORY': return 'bg-green-500';\r\n    case 'DISK': return 'bg-orange-500'; \r\n    case 'TEMP': return 'bg-red-500';\r\n    default: return 'bg-gray-500';\r\n  }\r\n};\r\n\r\nconst Dashboard = () => {\r\n  const [status, setStatus] = useState({});\r\n  const [logs, setLogs] = useState([]);\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [sms, setSms] = useState([]);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/');\r\n      return;\r\n    }\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    loadData();\r\n    const interval = setInterval(loadData, 2000); // 5 seconds\r\n    return () => clearInterval(interval);\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth < 768);\r\n    };\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const [statusRes, logsRes, alertsRes, smsRes] = await Promise.all([\r\n        axios.get('/api/dashboard/status'),\r\n        axios.get('/api/dashboard/logs'),\r\n        axios.get('/api/alerts'),\r\n        axios.get('/api/dashboard/sms')\r\n      ]);\r\n      setStatus(statusRes.data);\r\n      const sortedLogs = logsRes.data.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\r\n      setLogs(sortedLogs);\r\n      setAlerts(alertsRes.data);\r\n      setSms(smsRes.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // --- Chart Data ---\r\n  const labels = logs.map(log => new Date(log.timestamp).toLocaleTimeString());\r\n  \r\n  const createChartData = (dataKey, color, label) => ({\r\n      labels,\r\n      datasets: [{\r\n          label: label,\r\n          data: logs.map(log => log[dataKey]),\r\n          borderColor: color,\r\n          tension: 0.1,\r\n      }],\r\n  });\r\n\r\n  const cpuChartData = createChartData('cpuUsage', 'rgb(75, 192, 192)', 'CPU Usage (%)');\r\n  const memoryChartData = createChartData('memoryUsage', 'rgb(54, 162, 235)', 'Memory Usage (%)');\r\n  const diskChartData = createChartData('diskSpace', 'rgb(255, 99, 132)', 'Disk Usage (%)');\r\n  const temperatureChartData = createChartData('temperature', 'rgb(255, 206, 86)', 'Temperature (Â°C)');\r\n\r\n  const miniChartOptions = {\r\n    maintainAspectRatio: false,\r\n    responsive: true,\r\n    plugins: { legend: { display: false }, tooltip: {\r\n        backgroundColor: 'rgba(0,0,0,0.8)', titleColor: 'white', bodyColor: 'white', cornerRadius: 6\r\n    }},\r\n    scales: { x: { display: false }, y: { display: false } },\r\n    elements: { point: { radius: 1, hoverRadius: 3 }, line: { borderWidth: 1 } }\r\n  };\r\n\r\n  const renderMetricWithGraph = (name, value, unit) => {\r\n    const colorClass = getMetricColor(name);\r\n    let maxReference = 100; // Default max for percentage\r\n    if (name === 'Temp') maxReference = 100;\r\n    const percent = (value / maxReference) * 100;\r\n\r\n    return (\r\n      <div className=\"flex items-center justify-between py-1 border-b border-gray-100 last:border-b-0\">\r\n        <span className=\"text-sm font-medium text-gray-700 w-1/4\">{name}:</span>\r\n        <div className=\"flex-grow mx-2 bg-gray-200 rounded-full h-2.5 overflow-hidden\">\r\n          <div \r\n            className={`h-full rounded-full ${colorClass}`} \r\n            style={{ width: `${Math.min(percent, 100)}%` }}\r\n            title={`${value}${unit}`}\r\n          ></div>\r\n        </div>\r\n        <span className=\"font-semibold text-sm w-1/4 text-right\">{value}{unit}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (logs.length === 0) {\r\n      return (\r\n          <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n              <div className=\"text-xl text-gray-700 animate-pulse\">Loading real-time data...</div>\r\n          </div>\r\n      );\r\n  }\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800 mb-4\">This is a system-based application.</h1>\r\n          <p className=\"text-lg text-gray-600\">Please open with your PC or desktop.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      <div className=\"flex justify-between items-center mb-6 border-b pb-4\">\r\n        <h1 className=\"text-3xl font-extrabold text-indigo-700\">Server Monitoring Dashboard ðŸš€</h1>\r\n      </div>\r\n\r\n      {/* Mini-Chart Status Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n        {[\r\n          { title: 'CPU Usage', value: status?.cpuUsage || 0, unit: '%', data: cpuChartData, color: 'border-blue-500' },\r\n          { title: 'Memory Usage', value: status?.memoryUsage || 0, unit: '%', data: memoryChartData, color: 'border-green-500' },\r\n          { title: 'Disk Space', value: status?.diskSpace || 0, unit: '%', data: diskChartData, color: 'border-yellow-500' },\r\n          { title: 'Temperature', value: status?.temperature || 0, unit: 'Â°C', data: temperatureChartData, color: 'border-red-500' },\r\n        ].map((item, index) => (\r\n          <div key={index} className={`bg-white p-5 rounded-xl shadow-lg border-l-4 ${item.color} transform hover:scale-[1.02] transition duration-300`}>\r\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase\">{item.title}</h3>\r\n            <p className=\"text-4xl font-extrabold mt-1 text-gray-900\">{item.value.toFixed(1)}{item.unit}</p>\r\n            <div className=\"h-12 mt-3\">\r\n              <Line data={item.data} options={miniChartOptions} height={48} />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Doughnut Charts */}\r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 mb-8\">\r\n        <h2 className=\"text-2xl font-bold mb-6 text-gray-800 border-b pb-3\">Current System Usage Overview</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n          {[\r\n            { name: 'CPU', value: status?.cpuUsage || 0, color: '#4BC0C0' },\r\n            { name: 'Memory', value: status?.memoryUsage || 0, color: '#36A2EB' },\r\n            { name: 'Disk', value: status?.diskSpace || 0, color: '#FF6384' },\r\n            { name: 'Temp', value: status?.temperature || 0, color: '#FFCE56' },\r\n          ].map((item, index) => (\r\n            <div key={index} className=\"text-center\">\r\n              <h3 className=\"text-lg font-semibold mb-3 text-gray-800\">{item.name}</h3>\r\n              <div className=\"relative inline-block w-32 h-32\">\r\n                <Doughnut data={{\r\n                  labels: ['Used', 'Free'],\r\n                  datasets: [{ data: [item.value, 100 - item.value], backgroundColor: [item.color, '#F3F4F6'], borderWidth: 0 }]\r\n                }} options={{ ...miniChartOptions, cutout: '75%', animation: { duration: 1500 } }} />\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                  <span className=\"text-xl font-extrabold text-gray-900\">{item.value.toFixed(1)}{item.name !== 'Temp' ? '%' : 'Â°C'}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Logs */}\r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\">\r\n        <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">Recent Log Data Stream (Last 5)</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6\">\r\n          {logs.slice(-5).reverse().map((log, index) => (\r\n            <div key={log._id || index} className=\"bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition\">\r\n              <div className=\"text-sm font-bold text-indigo-600 mb-3 border-b pb-2\">\r\n                <span className=\"text-gray-600 font-normal\">T:</span> {new Date(log.timestamp).toLocaleTimeString()}\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                {renderMetricWithGraph('CPU', log.cpuUsage.toFixed(1), '%')}\r\n                {renderMetricWithGraph('Memory', log.memoryUsage.toFixed(1), '%')}\r\n                {renderMetricWithGraph('Disk', log.diskSpace.toFixed(1), '%')}\r\n                {renderMetricWithGraph('Temp', log.temperature.toFixed(1), 'Â°C')}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Full Log Table with Color-Coded Values */}\r\n        <div className=\"overflow-x-auto mt-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-3\">Full Log Table</h3>\r\n          <table className=\"w-full table-auto text-sm border-collapse\">\r\n            <thead className=\"bg-gray-100 sticky top-0\">\r\n              <tr className=\"border-b border-gray-300\">\r\n                <th className=\"px-4 py-3 text-left font-semibold text-gray-600\">Time</th>\r\n                <th className=\"px-4 py-3 text-left font-semibold text-gray-600\">CPU Usage</th>\r\n                <th className=\"px-4 py-3 text-left font-semibold text-gray-600\">Memory Usage</th>\r\n                <th className=\"px-4 py-3 text-left font-semibold text-gray-600\">Disk Space</th>\r\n                <th className=\"px-4 py-3 text-left font-semibold text-gray-600\">Temperature</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {logs.slice(-10).reverse().map((log, index) => (\r\n                <tr key={log._id || index} className=\"border-b border-gray-200 hover:bg-gray-50 transition duration-150\">\r\n                  <td className=\"px-4 py-3 whitespace-nowrap text-gray-700\">{new Date(log.timestamp).toLocaleString()}</td>\r\n\r\n                  <td className={`px-4 py-3 text-center ${getStatusColor(log.cpuUsage)}`}>{log.cpuUsage.toFixed(1)}%</td>\r\n                  <td className={`px-4 py-3 text-center ${getStatusColor(log.memoryUsage)}`}>{log.memoryUsage.toFixed(1)}%</td>\r\n                  <td className={`px-4 py-3 text-center ${getStatusColor(log.diskSpace)}`}>{log.diskSpace.toFixed(1)}%</td>\r\n                  <td className={`px-4 py-3 text-center ${getStatusColor(log.temperature)}`}>{log.temperature.toFixed(1)}Â°C</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}